<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #f0e6f6;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }
    .game-container {
        text-align: center;
    }
    h1 {
        color: #6F4685;
    }
    .board {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-template-rows: repeat(3, 100px);
        gap: 5px;
        margin: 20px auto;
    }
    .cell {
        background: #BF92E4;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2em;
        cursor: pointer;
        border-radius: 15px;
        transition: background 0.3s;
    }
    .cell:hover {
        background: #A070D1;
    }
    .controls button {
        padding: 10px 20px;
        margin: 5px;
        border: none;
        border-radius: 8px;
        background: #6F4685;
        color: white;
        cursor: pointer;
        font-size: 1em;
        transition: background 0.3s;
    }
    .controls button:hover {
        background: #BF92E4;
    }
    .message {
        margin-top: 15px;
        font-size: 1.2em;
        font-weight: bold;
        color: #6F4685;
    }
</style>
</head>
<body>

<div class="game-container">
    <h1>Tic Tac Toe</h1>
    <div class="controls">
        <button onclick="startGame('pvp')">Play vs Player</button>
        <button onclick="startGame('pvc')">Play vs Computer</button>
    </div>
    <div class="board" id="board"></div>
    <div class="message" id="message"></div>
</div>

<script>
let board = [];
let currentPlayer = 'X';
let gameMode = 'pvp';
let gameActive = false;

const boardElement = document.getElementById('board');
const messageElement = document.getElementById('message');

function startGame(mode) {
    gameMode = mode;
    currentPlayer = 'X';
    gameActive = true;
    board = Array(9).fill('');
    messageElement.textContent = `Player ${currentPlayer}'s turn`;
    renderBoard();
}

function renderBoard() {
    boardElement.innerHTML = '';
    board.forEach((cell, index) => {
        const cellElement = document.createElement('div');
        cellElement.classList.add('cell');
        cellElement.textContent = cell;
        cellElement.addEventListener('click', () => handleCellClick(index));
        boardElement.appendChild(cellElement);
    });
}

function handleCellClick(index) {
    if (!gameActive || board[index] !== '') return;
    
    board[index] = currentPlayer;
    renderBoard();
    
    if (checkWin(currentPlayer)) {
        messageElement.textContent = `Player ${currentPlayer} wins!`;
        gameActive = false;
        return;
    }
    
    if (!board.includes('')) {
        messageElement.textContent = `It's a draw!`;
        gameActive = false;
        return;
    }
    
    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
    messageElement.textContent = `Player ${currentPlayer}'s turn`;

    if (gameMode === 'pvc' && currentPlayer === 'O' && gameActive) {
        computerMove();
    }
}

function computerMove() {
    // Simple AI: pick a random empty cell
    const emptyCells = board.map((val, idx) => val === '' ? idx : null).filter(v => v !== null);
    const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
    board[randomIndex] = currentPlayer;
    
    renderBoard();
    
    if (checkWin(currentPlayer)) {
        messageElement.textContent = `Computer wins!`;
        gameActive = false;
        return;
    }
    
    if (!board.includes('')) {
        messageElement.textContent = `It's a draw!`;
        gameActive = false;
        return;
    }
    
    currentPlayer = 'X';
    messageElement.textContent = `Player ${currentPlayer}'s turn`;
}

function checkWin(player) {
    const winConditions = [
        [0,1,2], [3,4,5], [6,7,8], // rows
        [0,3,6], [1,4,7], [2,5,8], // columns
        [0,4,8], [2,4,6]           // diagonals
    ];
    
    return winConditions.some(condition => 
        condition.every(index => board[index] === player)
    );
}

// Initialize board
startGame('pvp');
</script>

</body>
</html>
